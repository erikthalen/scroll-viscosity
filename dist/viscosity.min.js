var viscosity=function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);function n(t){return(t=>Promise.all(t.reduce((t,e)=>e.complete?t:(t.push(new Promise(t=>{e.onload=t})),t),[])))("IMG"===t.subject.tagName?[t.subject]:[...t.subject.querySelectorAll("img")])}function s(){return"loaded"===document.fonts.status?Promise.resolve(!0):document.fonts.ready}const o=t=>parseFloat(t),r=(...t)=>t.reduce((t,e)=>("auto"===e&&(e=0),t+parseFloat(e)),0),a=(t,e)=>window.getComputedStyle(t)[e],l=["position","top","left","width","height","display","transform","marginTop","marginBottom","marginLeft","marginRight","paddingTop","margin","padding","borderWidth"],c=(t,e,i=0)=>!(e===document.body&&i<2)&&(i>1||(e.dataset[t]?c(t,e.parentElement,i+1):c(t,e.parentElement,i))),u=t=>a(t,"display").includes("inline"),d=t=>"IMG"===t.tagName,p=t=>{const e=t.firstElementChild;return u(t)||e&&u(e)&&!d(e)},g=t=>{const e=(t,i)=>{if(!t())return requestAnimationFrame(()=>e(t,i));requestAnimationFrame(i)};return new Promise(i=>{e(t,i)})};var m={_update(t,e=-1*window.pageYOffset){var i,n,s;t.isRunning&&(requestAnimationFrame(()=>this._update(t,e)),i=e,n=-1*window.pageYOffset,s=t.easing,e=(1-s)*i+s*n,this._setStyle(t,e))},_setStyle(t,e){const i=Math.round(10*(e+Number.EPSILON))/10,n=t.originalPlacement.transform;i!==t.lastPos&&(n.length>1?t.subject.style.transform=`matrix(${n[1]}, ${n[2]}, ${n[3]}, ${n[4]}, 0, ${n[6]+i})`:t.subject.style.transform=`translate3d(0, ${i}px, 0)`,t.lastPos=i)},start(t){t.isRunning=!0,t.lastPos=-1*window.pageYOffset,this._update(t)},stop(t){t.isRunning=!1,((t,...e)=>{e.forEach(e=>t.style.removeProperty(e)),t.getAttribute("style")||t.removeAttribute("style")})(t.subject,"transform")}};var h={create(t){var e;t.copycat=document.createElement("div"),t.copycat.classList.add("copycat"),(e=t.copycat,t=>{t.parentNode.insertBefore(e,t.nextSibling)})(t.subject)},remove(t){t.copycat.remove()},applyStyles(t){const{position:e,width:i,height:n,display:s,leftPos:o,topPos:r,bodyMargin:a,padding:l,borderWidth:c}=t.originalPlacement;Object.assign(t.copycat.style,{width:i,height:n,position:this._ifNot("static")(e),display:!d(t.subject)&&this._ifNot("list-item","block")(s),left:this._ifNot("static")(e)&&("absolute"===e?o-a+"px":o+"px"),top:this._ifNot("static")(e)&&this._accounted(t,r)+"px",margin:this._ifNot("0px 0px 0px 0px")(this._getMargins(t)),padding:"0px"!==l&&"0px"!==c&&parseFloat(l)+parseFloat(c)+"px"})},_getMargins(t){return`${this._getMargin(t,"Top")} ${this._getMargin(t,"Right")} ${this._getMargin(t,"Bottom")} ${this._getMargin(t,"Left")}`},_getMargin(t,e){return p(t.subject)?parseFloat(t.originalPlacement[`margin${e}`]):Math.max(parseFloat(t.originalPlacement[`margin${e}`]),parseFloat(this._getChildMargin(t,e)))+"px"},_getChildMargin(t,e){const i="Top"===e?"firstElementChild":"Bottom"===e?"lastElementChild":null;return i&&t.subject[i]&&t.subject[i][i]?this._getChildMargin(t.subject[i],e):i&&t.subject[i]?parseFloat(a(t.subject[i],`margin${e}`)):parseFloat(a(t.subject,`margin${e}`))},_accounted:(t,e)=>p(t.subject)?e+t.originalPlacement.bodyMargin:"absolute"===t.originalPlacement.position?parseFloat(t.originalPlacement.top):e+t.originalPlacement.bodyMargin,_ifNot:(...t)=>e=>t.includes(e)?null:e},f={setup(t){const{topPos:e,paddingTop:i,marginLeft:n,leftPos:s,width:o,height:a,margin:l}=t.originalPlacement;Object.assign(t.subject.style,{position:"fixed",width:o,height:a,top:r(e,i)+"px",left:s-parseFloat(n)+"px",margin:"0px"!==l&&l}),t.subject.firstElementChild&&setTimeout(()=>t.subject.firstElementChild.style.margin=0)},revert(t){setTimeout(()=>t.subject.style.cssText=t.originalPlacement.inline),t.subject.firstElementChild&&t.subject.firstElementChild.style.removeProperty("margin")}};class b{constructor({element:t,easing:e,wacky:i}){var o,r;this.subject=t,this.easing=i?(o=.05,r=.2,Math.random()*(r-o)+o):e||.3,this.subject&&(this.subject.dataset.viscosity="is-bound",g(()=>"is-bound"===this.subject.dataset.viscosity).then(()=>{(function(t){return n(t).then(s)})(this).then(this.init.bind(this))}),function(t){let e=null;window.addEventListener("resize",i=>{clearTimeout(e),e=setTimeout(()=>{t()},250)})}(this.restart.bind(this)))}init(){g(()=>void 0===this.originalPlacement).then(()=>{this.originalPlacement=(t=>{const e={};return l.forEach(i=>e[i]=a(t,i)),e.transform=a(t,"transform").split(/[(,)]+/).filter(Boolean).map(o),e.inline=t.style.cssText,e.topPos=t.getBoundingClientRect().top+window.pageYOffset-parseFloat(a(t,"marginTop"))-parseFloat(a(t,"paddingTop")),e.leftPos=t.getBoundingClientRect().left,e.bodyMargin=parseFloat(a(document.body,"marginLeft")),e})(this.subject),g(()=>"object"==typeof this.originalPlacement&&(t=>!t.subject.nextElementSibling||t.subject.nextElementSibling&&!t.subject.nextElementSibling.classList.contains("copycat"))(this)).then(()=>{c("viscosity",this.subject)?this.subject.dataset.viscosity="is-child":(f.setup(this),h.create(this),h.applyStyles(this),m.start(this),this.subject.dataset.viscosity="is-running")})})}destroy(){f.revert(this),h.remove(this),m.stop(this),this.subject.dataset.viscosity="is-destroyed",g(()=>"fixed"!==a(this.subject,"position")).then(()=>{this.originalPlacement=void 0})}restart(){this.isRunning&&(this.destroy(),g(()=>void 0===this.originalPlacement).then(this.init.bind(this)))}toggle(){this.isRunning?this.destroy():this.init()}}e.default=function(t){return"string"==typeof t?[...document.querySelectorAll(t)].map(t=>new b({element:t})):t.tagName?new b({element:t}):"object"==typeof t?new b(t):void 0}}]);